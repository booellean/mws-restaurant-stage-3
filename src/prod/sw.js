"use strict";var staticCacheName="restaurant-review-",staticCacheVer="v1",staticCache=staticCacheName+staticCacheVer;self.addEventListener("install",function(event){event.waitUntil(caches.open(staticCache).then(function(cache){return cache.addAll(["restaurant.html","index.html","/js/main.js","/js/dbhelper.js","/js/restaurant_info.js","/js/service_worker.js","/js/idb.js","/js/leaflet.min.js","/css/styles.css","/css/styles-queries.css","/css/normalize.min.css","/css/leaflet.min.css"])}))}),self.addEventListener("activate",function(event){event.waitUntil(caches.keys().then(function(cacheNames){return Promise.all(cacheNames.filter(function(cacheName){return cacheName.startsWith(staticCacheName)&&cacheName!=staticCache}).map(function(cacheName){return caches.delete(cacheName)}))}))}),self.addEventListener("fetch",function(event){"GET"===event.request.method&&event.respondWith(caches.open(staticCache).then(function(cache){return fetch(event.request).then(function(res){return cache.put(event.request,res.clone()),res})}))});